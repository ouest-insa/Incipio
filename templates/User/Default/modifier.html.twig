{% extends "User/layout.html.twig" %}

{% block title %}
    {{ 'user.utilisateur_modifier_un'|trans({}, 'user') }} - {{ parent() }}
{% endblock %}

{% block content_title %}
    {{ 'user.utilisateur_modifier_un'|trans({}, 'user') }}
{% endblock %}

{% block breadcrumb_items %}
    <li><a href="{{ path('user_lister') }}">{{ 'user.utilisateurs_lister'|trans({}, 'user') }}</a></li>
{% endblock %}

{% block breadcrumb_active %}
    {{ 'user.modifier'|trans({}, 'user') }}
{% endblock %}

{% block content_bundle %}

    {{ form_start(form, {'attr': {'id': 'form', 'class': 'form-horizontal'}}) }}
    <div class="form-group">
        <div class="col-md-2 col-xs-12">
            {{ form_label(form.username) }}
        </div>
        <div class="col-md-4 col-xs-12">
            {{ form_widget(form.username, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.username) }}
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-2 col-xs-12">
            {{ form_label(form.email) }}
        </div>
        <div class="col-md-4 col-xs-12">
            {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.email) }}
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-2 col-xs-12">
            {{ form_label(form.enabled) }}
        </div>
        <div class="col-md-4 col-xs-12">
            {{ form_widget(form.enabled) }}
            {{ form_errors(form.enabled) }}
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-2 col-xs-12">
            {{ form_label(form.personne) }}
        </div>
        <div class="col-md-4 col-xs-12">
            {{ form_widget(form.personne, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.personne) }}
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-2 col-xs-12">
            {{ form_label(form.roles) }}
        </div>
        <div class="col-md-4 col-xs-12">
            {{ form_widget(form.roles, {'attr': {'class': 'form-control select2', 'style': 'width: 100%'}}) }}
            {{ form_errors(form.roles) }}
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-2 col-xs-12">
            {{ form_label(form.current_password) }}
        </div>
        <div class="col-md-4 col-xs-12">
            {{ form_widget(form.current_password, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.current_password) }}
        </div>
    </div>

    {{ form_widget(form) }}
    <div class="row">
        <div class="col-md-2 col-xs-4">
            <input class="btn btn-success" type="submit" value="Enregistrer l'utilisateur"/>
            {{ form_end(form) }}
        </div>

        <div class="col-md-2 col-xs-4">

            <form action="{{ path('user_supprimer', { 'id': form.vars.value.id }) }}" method="post">
                {{ form_widget(delete_form) }}
                <button class="btn btn-danger bootbox-confirm"
                        data-content="Êtes-vous sûr de vouloir supprimer définitivement cet utilisateur ?">Supprimer
                    l'utilisateur
                </button>
            </form>
        </div>
    </div>

{% endblock %}

{% block javascript %}
    {{ parent() }}
    {{ form_javascript(form) }}
    <script type="text/javascript">
        $(".select2").select2();
    </script>
{% endblock %}
